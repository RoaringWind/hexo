---
title: 进程与线程
date: 2021-04-06 20:28:01
tags: [操作系统,c++]
---

进程是运行中的一段程序。包括程序的可执行代码和程序计数器，调用堆栈等。

进程是资源分配的最小单位，线程是程序执行的最小单位。

![进程](https://i.loli.net/2021/04/06/KVLDB4MafjIxpGW.png)

# 进程/线程切换开销

## 进程

1.  页表全局目录；
2.  调用堆栈和堆栈；
3.  文件描述符；
4.  处理器硬件上下文，比如栈帧的指针，寄存器内容，高速缓存；
5.  TLB的刷新，即建立新的映射。

## 线程

局部的程序计数器，程序指针，局部的栈帧，相关寄存器状态（线程的上下文）。